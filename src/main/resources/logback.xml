<configuration>

  <appender name="FILELOG" class="ch.qos.logback.core.FileAppender">
    <file>${application.home:-.}/logs/huff.log</file>
    <param name="Append" value="true" />
    <encoder class="ch.qos.logback.classic.encoder.PatternLayoutEncoder">
      <pattern>%d{"yyyy-MM-dd'T'HH:mm:ss.SSSXXX", UTC} [%-5level] [%logger{36}] %msg%n</pattern>
    </encoder>
  </appender>

  <appender name="STDOUT" class="ch.qos.logback.core.ConsoleAppender">
    <encoder class="ch.qos.logback.classic.encoder.PatternLayoutEncoder">
      <pattern>%d{"yyyy-MM-dd'T'HH:mm:ss.SSSXXX", UTC} [%-5level] [%logger{36}] %msg%n</pattern>
    </encoder>
  </appender>

  <appender name="FILE_ASYNC" class="ch.qos.logback.classic.AsyncAppender">
    <queueSize>500</queueSize>
    <appender-ref ref="FILELOG"/>
    <includeCallerData>true</includeCallerData> <!-- remove if performance affected -->
  </appender>

  <appender name="CONSOLE_ASYNC" class="ch.qos.logback.classic.AsyncAppender">
    <queueSize>500</queueSize>
    <appender-ref ref="STDOUT"/>
  </appender>

  <root level="INFO">
    <appender-ref ref="CONSOLE_ASYNC"/>
    <appender-ref ref="FILE_ASYNC"/>
  </root>

</configuration>

